<div class="todo-modal">
    <div class="todo-modal__title">
        {{isEditMode ? 'Edit' : 'Create'}} todo
    </div>
    <form class="todo-modal__body" [formGroup]="todoForm" (submit)="onSubmit()">
        <mat-form-field>
            <input type="text" matInput placeholder="Title" formControlName="title" required>
            <mat-error *ngIf="todoForm.get('title').hasError('required')">
                Title shouldn't be empty
            </mat-error>
            <mat-error *ngIf="todoForm.get('title').hasError('maxlength')">
                Title shouldn't be more than 100 characters long
            </mat-error>
        </mat-form-field>
        <mat-form-field>
            <textarea matInput placeholder="Description" formControlName="description" required></textarea>
            <mat-error *ngIf="todoForm.get('description').hasError('required')">
                Description shouldn't be empty
            </mat-error>
            <mat-error *ngIf="todoForm.get('description').hasError('maxlength')">
                Description shouldn't be more than 1000 characters long
            </mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput [min]="now" [matDatepicker]="picker" placeholder="Date"
                   formControlName="date" required>
            <mat-error *ngIf="todoForm.get('date').hasError('required')">
                Date shouldn't be empty
            </mat-error>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   placeholder="Time"
                   type="time"
                   formControlName="time"
                   required>
        </mat-form-field>


        <div style="text-align: right;">
            <button type="button" mat-button matDialogClose>Cancel</button>
            <button type="submit"
                    color="primary"
                    mat-raised-button
                    [disabled]="todoForm.invalid || todoForm.pristine">
                {{isEditMode ? 'Update' : 'Create'}}
            </button>
        </div>
    </form>
</div>
